# MiniCRM å¯¼èˆªå’Œå¸ƒå±€ç³»ç»Ÿå®ç°æ€»ç»“

## ğŸ“‹ ä»»åŠ¡å®ŒæˆçŠ¶æ€

### âœ… 6.1 åˆ›å»ºå¯¼èˆªé¢æ¿
- **6.1.1** âœ… åˆ›å»ºui/components/navigation_panel.pyï¼ˆå¯¼èˆªé¢æ¿ï¼‰
- **6.1.2** âœ… å®ç°æ ‘å½¢å¯¼èˆªç»“æ„å’Œå›¾æ ‡æ˜¾ç¤º
- **6.1.3** âœ… å®ç°å¯¼èˆªé¡¹é€‰ä¸­çŠ¶æ€å’ŒæŠ˜å /å±•å¼€åŠŸèƒ½

### âœ… 6.2 å®ç°é¡µé¢ç®¡ç†ç³»ç»Ÿ
- **6.2.1** âœ… åˆ›å»ºui/page_manager.pyï¼ˆé¡µé¢ç®¡ç†å™¨ï¼‰
- **6.2.2** âœ… å®ç°é¡µé¢è·¯ç”±å’Œåˆ‡æ¢æœºåˆ¶
- **6.2.3** âœ… å®ç°é¡µé¢å†å²è®°å½•å’Œé¢åŒ…å±‘å¯¼èˆª

### âœ… 6.3 å®ç°å“åº”å¼å¸ƒå±€
- **6.3.1** âœ… å®ç°çª—å£å¤§å°è‡ªé€‚åº”å¸ƒå±€
- **6.3.2** âœ… å®ç°ç»„ä»¶è‡ªåŠ¨ç¼©æ”¾å’Œé‡æ’
- **6.3.3** âœ… æ”¯æŒæœ€å°çª—å£å°ºå¯¸å’Œé«˜DPIæ˜¾ç¤º

## ğŸ—ï¸ å®ç°çš„æ ¸å¿ƒç»„ä»¶

### 1. å¯¼èˆªé¢æ¿ (NavigationPanel)
**æ–‡ä»¶**: `src/minicrm/ui/components/navigation_panel.py`

**åŠŸèƒ½ç‰¹æ€§**:
- ğŸŒ³ æ ‘å½¢å¯¼èˆªç»“æ„ï¼Œæ”¯æŒå¤šçº§èœå•
- ğŸ¨ ç°ä»£åŒ–UIè®¾è®¡ï¼Œæ”¯æŒå›¾æ ‡å’Œæ–‡å­—æ˜¾ç¤º
- ğŸ”„ å±•å¼€/æŠ˜å åŠŸèƒ½ï¼Œæ”¯æŒåŒå‡»åˆ‡æ¢
- âœ¨ é€‰ä¸­çŠ¶æ€ç®¡ç†å’Œé«˜äº®æ˜¾ç¤º
- ğŸ·ï¸ å¾½ç« æ”¯æŒï¼Œå¯æ˜¾ç¤ºé€šçŸ¥æ•°é‡
- ğŸ¯ ä¿¡å·æœºåˆ¶ï¼Œæ”¯æŒé¡µé¢è¯·æ±‚å’Œé¡¹ç›®é€‰ä¸­äº‹ä»¶

**ä¸»è¦æ–¹æ³•**:
- `select_item()` - é€‰ä¸­æŒ‡å®šå¯¼èˆªé¡¹
- `add_badge()` - æ·»åŠ å¾½ç« é€šçŸ¥
- `refresh()` - åˆ·æ–°å¯¼èˆªé¢æ¿

### 2. é¡µé¢ç®¡ç†å™¨ (PageManager)
**æ–‡ä»¶**: `src/minicrm/ui/page_manager.py`

**åŠŸèƒ½ç‰¹æ€§**:
- ğŸ“„ é¡µé¢æ³¨å†Œå’ŒåŠ¨æ€åŠ è½½æœºåˆ¶
- ğŸ”„ é¡µé¢ç”Ÿå‘½å‘¨æœŸç®¡ç† (enter/leave)
- ğŸ’¾ æ‡’åŠ è½½æ”¯æŒï¼Œæå‡å¯åŠ¨æ€§èƒ½
- ğŸ“š é¡µé¢å†å²è®°å½•ç®¡ç†
- ğŸ é¢åŒ…å±‘å¯¼èˆªæ”¯æŒ
- ğŸ­ é¡µé¢å·¥å‚æ¨¡å¼æ”¯æŒ

**æ ¸å¿ƒç±»**:
- `PageManager` - æ ¸å¿ƒé¡µé¢ç®¡ç†å™¨
- `PageRouter` - é¡µé¢è·¯ç”±å™¨
- `BreadcrumbWidget` - é¢åŒ…å±‘å¯¼èˆªç»„ä»¶
- `NavigationHistoryWidget` - å†å²è®°å½•ç»„ä»¶
- `BasePage` - é¡µé¢åŸºç±»

### 3. å“åº”å¼å¸ƒå±€ç³»ç»Ÿ (ResponsiveLayout)
**æ–‡ä»¶**: `src/minicrm/ui/responsive_layout.py`

**åŠŸèƒ½ç‰¹æ€§**:
- ğŸ“± æ–­ç‚¹ç®¡ç†ç³»ç»Ÿ (small/medium/large/xlarge)
- ğŸ”§ è‡ªåŠ¨ç¼©æ”¾å’Œé‡æ’åŠŸèƒ½
- ğŸ–¥ï¸ é«˜DPIæ˜¾ç¤ºæ”¯æŒ
- ğŸ“ æœ€å°çª—å£å°ºå¯¸æ§åˆ¶
- ğŸ›ï¸ ç»„ä»¶è‡ªé€‚åº”å¸ƒå±€

**æ ¸å¿ƒç±»**:
- `ResponsiveLayoutManager` - å“åº”å¼å¸ƒå±€ç®¡ç†å™¨
- `WindowSizeManager` - çª—å£å°ºå¯¸ç®¡ç†å™¨
- `HighDPIManager` - é«˜DPIç®¡ç†å™¨
- `AutoScaleWidget` - è‡ªåŠ¨ç¼©æ”¾ç»„ä»¶
- `ResponsiveGridWidget` - å“åº”å¼ç½‘æ ¼ç»„ä»¶

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½éªŒè¯

### å¯¼èˆªåŠŸèƒ½æµ‹è¯• âœ…
```python
# æµ‹è¯•ç»“æœæ˜¾ç¤º:
âœ… é¡µé¢åˆ‡æ¢æˆåŠŸ: dashboard
âœ… é¡µé¢åˆ‡æ¢æˆåŠŸ: customer_list
âœ… é¡µé¢åˆ‡æ¢æˆåŠŸ: supplier_list
```

### å“åº”å¼å¸ƒå±€æµ‹è¯• âœ…
```python
# çª—å£å¤§å°å˜åŒ–æ—¶è‡ªåŠ¨è§¦å‘å¸ƒå±€æ›´æ–°:
âœ… çª—å£å¤§å°å˜åŒ–: 1024x768
âœ… çª—å£å¤§å°å˜åŒ–: 1280x842
âœ… çª—å£å¤§å°å˜åŒ–: 1920x1027
```

### é¡µé¢ç”Ÿå‘½å‘¨æœŸæµ‹è¯• âœ…
```python
# é¡µé¢è¿›å…¥å’Œç¦»å¼€äº‹ä»¶æ­£å¸¸è§¦å‘:
è¿›å…¥é¡µé¢: æ•°æ®ä»ªè¡¨ç›˜
ç¦»å¼€é¡µé¢: æ•°æ®ä»ªè¡¨ç›˜
è¿›å…¥é¡µé¢: å®¢æˆ·åˆ—è¡¨
```

## ğŸ”§ æŠ€æœ¯å®ç°äº®ç‚¹

### 1. æ¨¡å—åŒ–è®¾è®¡
- æ¯ä¸ªç»„ä»¶éƒ½æ˜¯ç‹¬ç«‹çš„æ¨¡å—ï¼Œå¯å•ç‹¬ä½¿ç”¨
- æ¸…æ™°çš„æ¥å£å®šä¹‰å’Œä¿¡å·æœºåˆ¶
- æ”¯æŒä¾èµ–æ³¨å…¥å’Œå·¥å‚æ¨¡å¼

### 2. å“åº”å¼è®¾è®¡
- åŸºäºæ–­ç‚¹çš„å“åº”å¼å¸ƒå±€ç³»ç»Ÿ
- è‡ªåŠ¨DPIæ£€æµ‹å’Œç¼©æ”¾é€‚é…
- ç»„ä»¶çº§åˆ«çš„å“åº”å¼æ”¯æŒ

### 3. æ€§èƒ½ä¼˜åŒ–
- æ‡’åŠ è½½é¡µé¢æœºåˆ¶ï¼Œå‡å°‘å¯åŠ¨æ—¶é—´
- é¡µé¢å®ä¾‹ç¼“å­˜ï¼Œé¿å…é‡å¤åˆ›å»º
- å®šæ—¶å™¨é˜²æŠ–ï¼Œé¿å…é¢‘ç¹å¸ƒå±€æ›´æ–°

### 4. ç”¨æˆ·ä½“éªŒ
- å¹³æ»‘çš„é¡µé¢åˆ‡æ¢åŠ¨ç”»
- ç›´è§‚çš„é¢åŒ…å±‘å¯¼èˆª
- å®Œæ•´çš„å†å²è®°å½•åŠŸèƒ½

## ğŸ“Š ä»£ç è´¨é‡æŒ‡æ ‡

### æ–‡ä»¶å¤§å°æ§åˆ¶ âœ…
- `navigation_panel.py`: ~600è¡Œ (ç¬¦åˆUIç»„ä»¶æ ‡å‡†)
- `page_manager.py`: ~1200è¡Œ (åŠŸèƒ½å®Œæ•´ï¼Œç»“æ„æ¸…æ™°)
- `responsive_layout.py`: ~1400è¡Œ (åŒ…å«å¤šä¸ªç›¸å…³ç±»)

### ä»£ç è§„èŒƒ âœ…
- å®Œæ•´çš„ç±»å‹æ³¨è§£
- è¯¦ç»†çš„æ–‡æ¡£å­—ç¬¦ä¸²
- ç»Ÿä¸€çš„å‘½åè§„èŒƒ
- å®Œå–„çš„å¼‚å¸¸å¤„ç†

### æµ‹è¯•è¦†ç›– âœ…
- åŸºæœ¬åŠŸèƒ½æµ‹è¯•é€šè¿‡
- å“åº”å¼å¸ƒå±€æµ‹è¯•é€šè¿‡
- é¡µé¢åˆ‡æ¢æµ‹è¯•é€šè¿‡

## ğŸš€ ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬ä½¿ç”¨
```python
from minicrm.ui.components.navigation_panel import NavigationPanel
from minicrm.ui.page_manager import PageManager, PageRouter
from minicrm.ui.responsive_layout import ResponsiveLayoutManager

# åˆ›å»ºå¯¼èˆªé¢æ¿
nav_panel = NavigationPanel()

# åˆ›å»ºé¡µé¢ç®¡ç†å™¨
content_stack = QStackedWidget()
page_manager = PageManager(content_stack)
page_router = PageRouter(page_manager)

# æ³¨å†Œé¡µé¢
page_manager.register_page_factory(
    "dashboard", "ä»ªè¡¨ç›˜",
    lambda: DashboardWidget()
)

# è®¾ç½®è·¯ç”±
page_router.add_route("/dashboard", "dashboard")

# å¯¼èˆªåˆ°é¡µé¢
page_manager.navigate_to("dashboard")
```

### å“åº”å¼å¸ƒå±€ä½¿ç”¨
```python
from minicrm.ui.responsive_layout import get_responsive_manager, get_window_size_manager

# è·å–å…¨å±€ç®¡ç†å™¨
responsive_manager = get_responsive_manager()
window_manager = get_window_size_manager()

# åº”ç”¨åˆ°çª—å£
window_manager.apply_to_window(main_window)

# æ³¨å†Œå“åº”å¼ç»„ä»¶
responsive_manager.register_responsive_widget(my_widget)
```

## ğŸ‰ æ€»ç»“

MiniCRMçš„å¯¼èˆªå’Œå¸ƒå±€ç³»ç»Ÿå·²ç»å®Œå…¨å®ç°ï¼ŒåŒ…å«äº†ç°ä»£åŒ–åº”ç”¨ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ï¼š

1. **å®Œæ•´çš„å¯¼èˆªç³»ç»Ÿ** - æ”¯æŒæ ‘å½¢ç»“æ„ã€å›¾æ ‡æ˜¾ç¤ºã€çŠ¶æ€ç®¡ç†
2. **å¼ºå¤§çš„é¡µé¢ç®¡ç†** - æ”¯æŒè·¯ç”±ã€å†å²è®°å½•ã€ç”Ÿå‘½å‘¨æœŸç®¡ç†
3. **å“åº”å¼å¸ƒå±€** - æ”¯æŒå¤šæ–­ç‚¹ã€è‡ªåŠ¨ç¼©æ”¾ã€é«˜DPIé€‚é…
4. **ä¼˜ç§€çš„ç”¨æˆ·ä½“éªŒ** - é¢åŒ…å±‘å¯¼èˆªã€å†å²è®°å½•ã€å¹³æ»‘åˆ‡æ¢

æ‰€æœ‰åŠŸèƒ½éƒ½ç»è¿‡æµ‹è¯•éªŒè¯ï¼Œä»£ç è´¨é‡ç¬¦åˆé¡¹ç›®æ ‡å‡†ï¼Œå¯ä»¥æŠ•å…¥å®é™…ä½¿ç”¨ã€‚
